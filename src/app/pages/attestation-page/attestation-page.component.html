<nb-card status="success">
  <nb-card-header style="text-align:center;"><h3>Application Process</h3></nb-card-header>
  <nb-card-body>
    <p-messages [(value)]="msgs"></p-messages>
    <nb-stepper orientation="horizontal" #stepper (click)="selectStep()">
      <nb-step label="Personal Details" [stepControl]="profileForm">
          <form [formGroup]="profileForm">
              <div class=" form-group row" style="margin-left:50px;">
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="lastFirstName">Full Name <span style="color:red;">*</span></label>
                    <input type="text" class="form-control" formControlName="profile_username" ngModel="{{profile?.name}}"
                      placeholder="Name of the University/Board" [ngClass]="{'form-control-danger': profileForm.controls.profile_username.invalid && (profileForm.controls.profile_username.dirty ||  profileForm.controls.profile_username.touched)}">
                      <div *ngIf="form_submitted && profileForm.controls.profile_username.errors" class="error_class">
                          <div *ngIf="profileForm.controls.profile_username.errors.required">Name required</div>
                          <div *ngIf="profileForm.controls.profile_username.errors.minlength">Name should be more than 3 characters</div>
                          <div *ngIf="profileForm.controls.profile_username.errors.maxlength">Name should not be more than 200 characters</div>
                        </div>
                    </div>
                </div>
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="lastFirstName">Last Name/ Surname <span style="color:red;">*</span></label>
                    <input type="text" class="form-control" id="lastFirstName" formControlName="profile_surname" ngModel="{{profile?.surname}}"
                      placeholder="Last Name" [ngClass]="{'form-control-danger': profileForm.controls.profile_surname.invalid && (profileForm.controls.profile_surname.dirty ||  profileForm.controls.profile_surname.touched)}">
                      <div *ngIf="form_submitted && profileForm.controls.profile_surname.errors" class="error_class">
                          <div *ngIf="profileForm.controls.profile_surname.errors.required">Surname required</div>
                          <div *ngIf="profileForm.controls.profile_surname.errors.minlength">Surname should be more than 3 characters</div>
                          <div *ngIf="profileForm.controls.profile_surname.errors.maxlength">Surname should not be more than 200 characters</div>
                        </div>
                  </div>
                </div>
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="inputGender">Gender <span style="color:red;">*</span></label>
                    <nb-select placeholder="Gender" ngModel="{{ profile?.gender}}" formControlName="genderCtrl"
                      [(selected)]="selectedGender" outline status="success">
                      <nb-option value="Male">Male</nb-option>
                      <nb-option value="Female">Female</nb-option>
                    </nb-select>
                    <div *ngIf="form_submitted && profileForm.controls.genderCtrl.errors" class="error_class">
                        <div *ngIf="profileForm.controls.genderCtrl.errors.required">Gender required</div>
                        <!-- <div *ngIf="profileForm.controls.genderCtrl.errors.minlength">Surname should be more than 3 characters</div>
                        <div *ngIf="profileForm.controls.genderCtrl.errors.maxlength">Surname should not be more than 200 characters</div> -->
                      </div>
                  </div>
  
                </div>
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="inputDob">Date of Birth <span style="color:red;">*</span></label>
                    <input readonly class="form-control" id="inputDob" formControlName="dobCtrl" nbInput placeholder="Date of birth"
                      [(ngModel)]="firstdob" [nbDatepicker]="picker">
                    <nb-datepicker #picker [(date)]="date" [max]="max"></nb-datepicker>
                    <div *ngIf="form_submitted && profileForm.controls.dobCtrl.errors" class="error_class">
                        <div *ngIf="profileForm.controls.dobCtrl.errors.required">Date of Birth required</div>
                        <!-- <div *ngIf="profileForm.controls.genderCtrl.errors.minlength">Surname should be more than 3 characters</div>
                        <div *ngIf="profileForm.controls.genderCtrl.errors.maxlength">Surname should not be more than 200 characters</div> -->
                      </div>
                  </div>
                </div>
              </div>
  
              <div class=" form-group row" style="margin-left:50px;">
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="inputEmail">Email <span style="color:red;">*</span></label>
                    <input type="text" disabled class="form-control" ngModel="{{profile?.email}}" id="inputEmail"
                      formControlName="emailCtrl" placeholder="Email">
                    
                  </div>
                </div> 
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="inputCountryCode">Country Code <span style="color:red;">*</span></label>
                    <br>
                    <div class="input-group">
                      <div class="dropdown input-group-prepend input-group-btn" ngbDropdown>
                        <input disabled class="form-control" ngModel="{{mobile_country_code}}" formControlName="phonecodeCtrl"
                          id="inputPhonecode" nbInput placeholder="Phonecode" [ngClass]="{'form-control-danger': profileForm.controls.phonecodeCtrl.invalid && (profileForm.controls.phonecodeCtrl.dirty ||  profileForm.controls.phonecodeCtrl.touched)}">
                      </div>
                    </div>
                  </div>
                </div>
                <div class="col-xl-3">
                  <div class="form-group" style="margin-left:20px;">
                    <label for="inputMobile">Mobile number <span style="color:red;">*</span></label>
                    <div class="input-group">
                      <input type="text" class="form-control" ngModel="{{profile?.mobile}}" formControlName="phoneCtrl"
                        nbInput placeholder="Mobile number" [ngClass]="{'form-control-danger': profileForm.controls.phoneCtrl.invalid && (profileForm.controls.phoneCtrl.dirty ||  profileForm.controls.phoneCtrl.touched)}">
                    </div>
                  </div>
                </div>
                <div class="col-xl-3">
                  <label for="inputPermCountry">Country <span style="color:red;">*</span></label>
                    <mat-form-field style="width:135px;">
                        <mat-select [(ngModel)]="permCountry" name="permCountry" formControlName="permCountryCtrl">
                        <mat-option *ngFor="let country of Countries" [value]="country.id">
                        {{country.name}}
                        </mat-option>
                        </mat-select>
                    </mat-form-field>
                    <span *ngIf="permcountryValidation===false" style="color:red;">Please select country</span> 
                </div>
              </div>
  
              <div class=" form-group row" style="margin-left:50px;">
                  <div class="col-xl-4">
                    <div class="form-group"style="margin-left:20px;">
                      <label for="inputPermAdd">Address ( Outside India )</label>
                      <textarea ngModel="{{profile?.address}}" class="form-control" id="inputPermAdd" formControlName="permAddCtrl"
                        [ngClass]="{'form-control-danger': profileForm.controls.permAddCtrl.invalid && (profileForm.controls.permAddCtrl.dirty )}"
                        placeholder="Address"></textarea>
                    </div>
                  </div>

                  <div class="col-xl-4" >
                    <div class="form-group" style="margin-left: 20px">
                      <label for="inputCity">City</label>
                      <input ngModel="{{profile?.city}}" type="text" class="form-control" id="inputAlterCity"
                        formControlName="CityCtrl" placeholder="City" [ngClass]="{'form-control-danger': profileForm.controls.CityCtrl.invalid && (profileForm.controls.CityCtrl.dirty )}">
                    </div>
                  </div>

                <div class="col-xl-4">
                  <div class="form-group"style="margin-left:20px;">
                    <label for="inputPremPost">Postal Code <span style="color:red;">*</span></label>
                    <input ngModel="{{profile?.postal_code}}" type="text" class="form-control" id="inputPremPost"
                      formControlName="permPostCodeCtrl" placeholder="Postal Code" [ngClass]="{'form-control-danger': profileForm.controls.permPostCodeCtrl.invalid && (profileForm.controls.permPostCodeCtrl.dirty ||  profileForm.controls.permPostCodeCtrl.touched)}">
                  </div>
                </div>
                <!-- <div class="col-xl-2" >
                  <div class="form-group"style="margin-left: 20px">
                    <label for="application">Application<span style="color:red;">*</span></label>
                    <input disabled ngModel="{{profile?.user_option}}" type="text" class="form-control" id="user_option"
                      formControlName="user_OptionCtrl" placeholder="application">
                  </div>
                </div>   -->
              </div>

              <div class=" form-group row" style="margin-left:50px;">
                  <div class="col-xl-4">
                    <div class="form-group"style="margin-left:20px;">
                      <label for="inputPermAdd">Address ( In India )</label>
                      <textarea ngModel="{{profile?.alternate_address}}" class="form-control" id="inputPermAdd" formControlName="alterAddCtrl"
                        [ngClass]="{'form-control-danger': profileForm.controls.alterAddCtrl.invalid && (profileForm.controls.alterAddCtrl.dirty )}"
                        placeholder="Address"></textarea>
                    </div>
                  </div>

                  <div class="col-xl-4" >
                    <div class="form-group" style="margin-left: 20px">
                      <label for="inputCity">City</label>
                      <input ngModel="{{profile?.alternate_city}}" type="text" class="form-control" id="inputAlterCity"
                        formControlName="alterCityCtrl" placeholder="City" [ngClass]="{'form-control-danger': profileForm.controls.alterCityCtrl.invalid && (profileForm.controls.alterCityCtrl.dirty )}">
                    </div>
                  </div>

                <div class="col-xl-4">
                  <div class="form-group"style="margin-left:20px;">
                    <label for="inputPremPost">Postal Code <span style="color:red;">*</span></label>
                    <input ngModel="{{profile?.alternate_postal_code}}" type="text" class="form-control" id="inputPremPost"
                      formControlName="alterPostCodeCtrl" placeholder="Postal Code" [ngClass]="{'form-control-danger': profileForm.controls.alterPostCodeCtrl.invalid && (profileForm.controls.alterPostCodeCtrl.dirty ||  profileForm.controls.alterPostCodeCtrl.touched)}">
                  </div>
                </div>
                <span *ngIf="show_address_message==true" style="color:red;">{{address_message}}</span>
              </div>

              <div class=" form-group row" style="margin-left:50px;">
                <div class="col-xl-4">
                    <div class="row">
                      <div class="col-lg-12">
                        <label for="inputOption">PROGRAMME OF STUDIES TO BE PURSUED :<span style="color:red;">*</span></label>
                        <div class="input-group">
                          <div class="col-lg-12">
                            <!-- <nb-radio-group formControlName="user_OptionCtrl">
                              <nb-radio value="Degree">Degree</nb-radio>
                              <nb-radio value="Masters">Masters</nb-radio>
                              <nb-radio value="Ph.D">Ph.D</nb-radio>
                            </nb-radio-group> -->
                              <label class="radio-inline">
                                <input id="rdb1" type="radio" [(ngModel)]="testradio" name="user_OptionCtrl" value="4" (click)="checkradio(4)"
                                  formControlName="user_OptionCtrl" /> Diploma
                              </label><br>
                              <label class="radio-inline">
                                <input id="rdb2" type="radio" [(ngModel)]="testradio" name="user_OptionCtrl" value="1" (click)="checkradio(1)"
                                  formControlName="user_OptionCtrl" /> Degree
                              </label><br>
                              <label class="radio-inline">
                                <input id="rdb3" type="radio" [(ngModel)]="testradio" name="user_OptionCtrl" value="2" (click)="checkradio(2)"
                                  formControlName="user_OptionCtrl" /> Masters
                              </label><br>
                              <label class="radio-inline">
                                <input id="rdb4" type="radio" [(ngModel)]="testradio" name="user_OptionCtrl" value="3" (click)="checkradio(3)"
                                  formControlName="user_OptionCtrl" /> Ph.D
                              </label><br>
                              <label class="radio-inline">
                                <input id="rdb5" type="radio" [(ngModel)]="testradio" name="user_OptionCtrl" value="5" (click)="checkradio(5)"
                                  formControlName="user_OptionCtrl" /> Doctral Studies ( Ph.D )
                              </label><br>
                              <span *ngIf="programDataerror== true " style="color:red">{{program_error_message}}</span>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>

                  <div class="col-xl-4">
                      Course Year<span style="color:red;">*</span><br>
                      <nb-select placeholder="Course Year" ngModel="{{ selectedCourseYear }}" formControlName="courseYearCtrl"
                        [(selected)]="selectedCourseYear" outline status="success">
                        <nb-option value="FY">First Year</nb-option>
                        <nb-option value="SY">Second Year</nb-option>
                        <nb-option value="TY">Third Year</nb-option>
                      </nb-select>
                      <span *ngIf="showYearError == true" style="color:red;">Please Select one option</span>
                  </div>
                  <div class="col-xl-4">
                    <div class="form-group" style="margin-left:20px;">
                      <label for="lastFirstName">Course Name <span style="color:red;">*</span></label>
                      <input type="text" class="form-control" formControlName="profile_course_name" ngModel="{{profile?.course_name}}"
                        placeholder="Name of the Course" [ngClass]="{'form-control-danger': profileForm.controls.profile_course_name.invalid && (profileForm.controls.profile_course_name.dirty ||  profileForm.controls.profile_course_name.touched)}">
                        <div *ngIf="form_submitted && profileForm.controls.profile_course_name.errors" class="error_class">
                            <div *ngIf="profileForm.controls.profile_course_name.errors.required">Course Name required</div>
                            <div *ngIf="profileForm.controls.profile_course_name.errors.minlength">Course Name should be more than 3 characters</div>
                            <div *ngIf="profileForm.controls.profile_course_name.errors.maxlength">Course Name should not be more than 200 characters</div>
                          </div>
                    </div>
                  </div>
                </div>

                  <!-- <div class="col-xl-4">
                    <div class="form-group"style="margin-left:20px;">
                      <label for="inputPermAdd">Address ( In India )</label>
                      <textarea ngModel="{{profile?.address}}" class="form-control" id="inputPermAdd" formControlName="alterAddCtrl"
                        [ngClass]="{'form-control-danger': profileForm.controls.alterAddCtrl.invalid && (profileForm.controls.alterAddCtrl.dirty )}"
                        placeholder="Permanent Address"></textarea>
                    </div>
                  </div>

                  <div class="col-xl-4" >
                    <div class="form-group" style="margin-left: 20px">
                      <label for="inputCity">City</label>
                      <input ngModel="{{profile?.city}}" type="text" class="form-control" id="inputAlterCity"
                        formControlName="alterCityCtrl" placeholder="City">
                    </div>
                  </div>

                <div class="col-xl-4">
                  <div class="form-group"style="margin-left:20px;">
                    <label for="inputPremPost">Postal Code <span style="color:red;">*</span></label>
                    <input ngModel="{{profile?.postal_code}}" type="text" class="form-control" id="inputPremPost"
                      formControlName="alterPostCodeCtrl" placeholder="Postal Code" [ngClass]="{'form-control-danger': profileForm.controls.alterPostCodeCtrl.invalid && (profileForm.controls.alterPostCodeCtrl.dirty ||  profileForm.controls.alterPostCodeCtrl.touched)}">
                  </div>
                </div> -->

  
              <div class="text-center">
                <button nbButton nbStepperNext (click)="onFirstSubmit()">Next</button>
                <!-- <button nbButton size="medium" hero status="info" type="button" (click)="update()" [disabled]="!profileForm.dirty">UPDATE</button> -->
              </div>
            </form>
      </nb-step>
      <nb-step label="Educational Details" [stepControl]="educationalForm">
        <form [formGroup]="educationalForm">
            <div class=" form-group row">
              <div class="col-xl-2">
                <b>
                  <h4>
                    Student Signature
                    <span style="color:red;">*</span>
                  </h4>
                </b>
              </div>
              <div class="col-xl-2" style="text-align: center">
                  <div *ngIf="sign_lock ==true || sign_document == false"  [nbSpinner]="loadingsignbutton" nbSpinnerStatus="primary">
                    <p-fileUpload ngDefaultControl
                      mode="basic" 
                      name="file"
                      chooseLabel="Upload"
                      url={{transSIGNUrl}}
                      accept="image/*" 
                      ngDefaultControl [accept]="'.jpg,.jpeg,.png,.PNG,.JPEG,.JPG'" 
                      maxFileSize="5000000"
                      auto="true"
                      formControlName="SIGNDocument"
                      (onSelect)="onSelect($event,'SIGN');"
                      (onUpload)="onUpload($event)"
                      (onError)="onErrorFileUpload($event)"
                      (onBeforeSend)="onBeforeSend($event,'SIGN')">
                    </p-fileUpload>
                  </div>
                  <div *ngIf="sign_document == true && sign_lock == false">
                    <button nbButton  status="info" (click)="downloadDoc('SIGN',this.educationalForm.controls.SIGNDocument.value)">Preview <i class="fas fa-download"></i></button>
                  </div>
                  <div *ngIf="form_submitted && educationalForm.controls.SIGNDocument.errors" class="error_class">
                    <div *ngIf="educationalForm.controls.SIGNDocument.errors.required">Sign is required</div>
                  </div>
                </div>

            </div>

          <div class="row" style="text-align: center">
            <div class="col-xl-2">
            </div>
            <div class="col-xl-2">
              <h5><b>Name of the Board</b></h5>
            </div>
            <div class="col-xl-2">
              <h5><b>Name of the School</b></h5>
            </div>
            <div class="col-xl-1">
              <h5><b>Marks Obtained</b></h5>
            </div>
            <div class="col-xl-1">
              <h5><b>Total Marks</b></h5>
            </div>
            <div class="col-xl-4">
              <h5><b>Upload Document</b></h5>
            </div>
          </div>

          <div class=" form-group row">
            <div class="col-xl-2">
              <b>
                <h4>
                  Grade Xth
                  <span style="color:red;">*</span>
                </h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="ssc_Univ_name" ngModel="{{ssc_info?.ssc_name}}" [ngClass]="{'form-control-danger':  educationalForm.controls.ssc_Univ_name.invalid && (educationalForm.controls.ssc_Univ_name.dirty || educationalForm.controls.ssc_Univ_name.touched)}"
                placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.ssc_Univ_name.errors" class="error_class">
                <div *ngIf="educationalForm.controls.ssc_Univ_name.errors.required">Grade Xth university name required</div>
                <div *ngIf="educationalForm.controls.ssc_Univ_name.errors.minlength">Grade Xth university name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.ssc_Univ_name.errors.maxlength">Grade Xth university name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="ssc_SscName" ngModel="{{ssc_info?.school_name}}" [ngClass]="{'form-control-danger': educationalForm.controls.ssc_SscName.invalid && (educationalForm.controls.ssc_SscName.dirty || educationalForm.controls.ssc_SscName.touched)}"
                placeholder="Name of School">
              <div *ngIf="form_submitted && educationalForm.controls.ssc_SscName.errors" class="error_class">
                <div *ngIf="educationalForm.controls.ssc_SscName.errors.required">Grade Xth School/College name required</div>
                <div *ngIf="educationalForm.controls.ssc_SscName.errors.minlength">Grade Xth School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.ssc_SscName.errors.maxlength">Grade Xth School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="ssc_InputMarks"  ngModel="{{ssc_info?.totalmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.ssc_InputMarks.invalid && (educationalForm.controls.ssc_InputMarks.dirty || educationalForm.controls.ssc_InputMarks.touched)}"
                placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.ssc_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.ssc_InputMarks.errors.required">Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="ssc_OutofMarks" ngModel="{{ssc_info?.outofmarks}}" (change)="checkmarks('SSC')" [ngClass]="{'form-control-danger': educationalForm.controls.ssc_OutofMarks.invalid && (educationalForm.controls.ssc_OutofMarks.dirty || educationalForm.controls.ssc_OutofMarks.touched)}"
                placeholder="Out of Obtained">
                <div *ngIf="form_submitted && educationalForm.controls.ssc_OutofMarks.errors" class="error_class">
                  <div *ngIf="educationalForm.controls.ssc_OutofMarks.errors.required">Total marks required</div>
                  <div *ngIf="educationalForm.controls.ssc_OutofMarks.errors.incorrect">Total marks should be greater than marks obtained</div>
                </div>
              <input type="hidden" id="ssc_type" name="ssc_type" value="SSC" placeholder="Name of the University/Board">
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="ssc_lock ==true || ssc_document == false"  [nbSpinner]="loadingsscbutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Score Card/ Marksheet/ Grade Card of (Grade 10, O level)"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload"
                  url={{transSSCUrl}}
                  accept="image/*" 
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="SSCDocument"
                  (onSelect)="onSelect($event,'SSC');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'SSC')">
                </p-fileUpload>
              </div>
              <div *ngIf="ssc_document == true && ssc_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Score Card/ Marksheet/ Grade Card of (Grade 10, O level)"
                  nbPopoverMode="hover"></i>
                <button nbButton  status="info" (click)="downloadDoc('SSC',this.educationalForm.controls.SSCDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.SSCDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.SSCDocument.errors.required">Grade Xth Marksheet required</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="ssc_passing_lock ==true || ssc_passing_document == false"  [nbSpinner]="loadingsscpassingbutton" nbSpinnerStatus="primary">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Passing Certificate of Grade 10"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload"
                  url={{transSSCPassingUrl}}
                  accept="image/*" 
                  ngDefaultControl
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="SSCPassingDocument"
                  (onSelect)="onSelect($event,'SSC_Passing');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'SSC_Passing')">
                </p-fileUpload>
              </div>
              <div *ngIf="ssc_passing_document == true && ssc_passing_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Passing Certificate of Grade 10"
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('SSC_Passing',this.educationalForm.controls.SSCPassingDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.SSCPassingDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.SSCPassingDocument.errors.required">Grade Xth Passing Certificate required</div>
              </div>
            </div>
            <!-- <div class="col-xl-1" style="text-align: center">
              <div *ngIf="ssc_grade_card_lock ==true || ssc_grade_card_document == false"  [nbSpinner]="loadingsscgradecardbutton" nbSpinnerStatus="primary">
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload Grade Card"
                  url={{transSSCGradeCardUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="SSCGradeCardDocument"
                  (onSelect)="onSelect($event,'SSC_Grade_Card');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'SSC_Grade_Card')">
                </p-fileUpload>
              </div>
              <div *ngIf="ssc_grade_card_document == true && ssc_grade_card_lock == false">
                <button nbButton  status="info" (click)="downloadDoc('SSC_Grade_Card',this.educationalForm.controls.SSCGradeCardDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.SSCGradeCardDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.SSCGradeCardDocument.errors.required">Grade Xth Grade Card required</div>
              </div>
            </div> -->
          </div>

          <div class=" form-group row" *ngIf="applying_for == 'Degree' || applying_for == 'Masters' || applying_for == 'Ph.D' || applying_for == 'Doctral Studies'">
            <div class="col-xl-2">
              <b>
                <h4>
                  Grade XIth
                  <span style="color:red;">*</span>
                </h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="fyjc_Univ_name" ngModel="{{fyjc_info?.fyjc_name}}" [ngClass]="{'form-control-danger':  educationalForm.controls.fyjc_Univ_name.invalid && (educationalForm.controls.fyjc_Univ_name.dirty || educationalForm.controls.fyjc_Univ_name.touched)}"
                placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.fyjc_Univ_name.errors" class="error_class">
                <div *ngIf="educationalForm.controls.fyjc_Univ_name.errors.required">Grade XIth university name required</div>
                <div *ngIf="educationalForm.controls.fyjc_Univ_name.errors.minlength">Grade XIth university name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.fyjc_Univ_name.errors.maxlength">Grade XIth university name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="fyjc_SscName" ngModel="{{fyjc_info?.fyjc_school_name}}" [ngClass]="{'form-control-danger': educationalForm.controls.fyjc_SscName.invalid && (educationalForm.controls.fyjc_SscName.dirty || educationalForm.controls.fyjc_SscName.touched)}"
                placeholder="Name of School">
              <div *ngIf="form_submitted && educationalForm.controls.fyjc_SscName.errors" class="error_class">
                <div *ngIf="educationalForm.controls.fyjc_SscName.errors.required">Grade XIth School/College name required</div>
                <div *ngIf="educationalForm.controls.fyjc_SscName.errors.minlength">Grade XIth School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.fyjc_SscName.errors.maxlength">Grade XIth School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="fyjc_InputMarks"  ngModel="{{fyjc_info?.fyjc_totalmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.fyjc_InputMarks.invalid && (educationalForm.controls.fyjc_InputMarks.dirty || educationalForm.controls.fyjc_InputMarks.touched)}"
                placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.fyjc_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.fyjc_InputMarks.errors.required">Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="fyjc_OutofMarks" ngModel="{{fyjc_info?.fyjc_outofmarks}}" (change)="checkmarks('FYJC')" [ngClass]="{'form-control-danger': educationalForm.controls.fyjc_OutofMarks.invalid && (educationalForm.controls.fyjc_OutofMarks.dirty || educationalForm.controls.fyjc_OutofMarks.touched)}"
                placeholder="Out of Obtained">
                <div *ngIf="form_submitted && educationalForm.controls.fyjc_OutofMarks.errors" class="error_class">
                  <div *ngIf="educationalForm.controls.fyjc_OutofMarks.errors.required">Total marks required</div>
                  <div *ngIf="educationalForm.controls.fyjc_OutofMarks.errors.incorrect">Total marks should be greater than marks obtained</div>
                </div>
              <input type="hidden" id="fyjc_type" name="fyjc_type" value="FYJC" placeholder="Name of the University/Board">
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="fyjc_lock ==true || fyjc_document == false"  [nbSpinner]="loadingfyjcbutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Marksheet of Grade XI"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload"
                  url={{transFYJCUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="FYJCDocument"
                  [disabled]="bachelor_upload"
                  (onSelect)="onSelect($event,'FYJC');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'FYJC')">
                </p-fileUpload>
              </div>
              <div *ngIf="fyjc_document == true && fyjc_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Marksheet of Grade XI"
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('FYJC',this.educationalForm.controls.FYJCDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.FYJCDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.FYJCDocument.errors.required">Grade XIth Marksheet required</div>
              </div>
            </div>
          </div>
          
          <div class=" form-group row" *ngIf="applying_for == 'Degree' || applying_for == 'Masters' || applying_for == 'Ph.D' || applying_for == 'Doctral Studies'">
            <div class="col-xl-2">
              <b>
                <h4>
                  Grade XIIth
                  <span style="color:red;">*</span>
                </h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="hidden" id="hsc_type" name="hsc_type" value="HSC" placeholder="Name of the University/Board">

              <input type="text" class="form-control" formControlName="inputHscUniv_name" ngModel="{{hsc_info?.hscname}}" [ngClass]="{'form-control-danger': educationalForm.controls.inputHscUniv_name.invalid && (educationalForm.controls.inputHscUniv_name.dirty || educationalForm.controls.inputHscUniv_name.touched)}"
                placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.inputHscUniv_name.errors" class="error_class">
                <div *ngIf="educationalForm.controls.inputHscUniv_name.errors.required">Grade XII university name required</div>
                <div *ngIf="educationalForm.controls.inputHscUniv_name.errors.minlength">Grade XII university name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.inputHscUniv_name.errors.maxlength">Grade XII university name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="hsc_inputSchool" ngModel="{{hsc_info?.hsc_school_name}}" [ngClass]="{'form-control-danger': educationalForm.controls.hsc_inputSchool.invalid && (educationalForm.controls.hsc_inputSchool.dirty || educationalForm.controls.hsc_inputSchool.touched)}"
                placeholder="Name of School/College">
              <div *ngIf="form_submitted && educationalForm.controls.hsc_inputSchool.errors" class="error_class">
                <div *ngIf="educationalForm.controls.hsc_inputSchool.errors.required">Grade XII School/College name required</div>
                <div *ngIf="educationalForm.controls.hsc_inputSchool.errors.minlength">Grade XII School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.hsc_inputSchool.errors.maxlength">Grade XII School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="hsc_InputMarks" ngModel="{{hsc_info?.hsc_totalmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.hsc_InputMarks.invalid && (educationalForm.controls.hsc_InputMarks.dirty || educationalForm.controls.hsc_InputMarks.touched)}"
                placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.hsc_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.hsc_InputMarks.errors.required">Grade XII Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="hsc_OutofMarks" (change)="checkmarks('HSC')" ngModel="{{hsc_info?.hsc_outofmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.hsc_OutofMarks.invalid && (educationalForm.controls.hsc_OutofMarks.dirty || educationalForm.controls.hsc_OutofMarks.touched)}"
                placeholder="Out of Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.hsc_OutofMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.hsc_OutofMarks.errors.required">Grade XII Total marks required</div>
                <div *ngIf="educationalForm.controls.hsc_OutofMarks.errors.incorrect">Grade XII Total marks should be greater than marks obtained</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="hsc_lock == true || hsc_document == false" [nbSpinner]="loadinghscbutton" nbSpinnerStatus="primary">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Score Card/ Marksheet/ Grade Card of (Grade 12, A level)"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transHSCUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  [disabled]="bachelor_upload"
                  chooseLabel="Upload"
                  formControlName="HSCDocument"
                  (onSelect)="onSelect($event,'HSC');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'HSC')">
                </p-fileUpload>
              </div>
              <div *ngIf="hsc_document == true && hsc_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Score Card/ Marksheet/ Grade Card of (Grade 12, A level)"
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('HSC',this.educationalForm.controls.HSCDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.HSCDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.HSCDocument.errors.required">Grade XII Marksheet required</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="hsc_passing_lock == true || hsc_passing_document == false" [nbSpinner]="loadinghscpassingbutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Passing Certificate of Grade 12"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transHSCPassingUrl}}
                  accept="image/*"
                  chooseLabel="Upload"
                  maxFileSize="5000000"
                  auto="true"
                  [disabled]="bachelor_upload"
                  formControlName="HSCPassingDocument"
                  (onSelect)="onSelect($event,'HSC_Passing');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'HSC_Passing')">
                </p-fileUpload>
              </div>
              <div *ngIf="hsc_passing_document == true && hsc_passing_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Passing Certificate of Grade 12"
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('HSC_Passing',this.educationalForm.controls.HSCPassingDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.HSCPassingDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.HSCPassingDocument.errors.required">Grade XII Passing Certificate required</div>
              </div>
            </div>
            <!-- <div class="col-xl-1" style="text-align: center">
              <div *ngIf="hsc_grade_card_lock ==true || hsc_grade_card_document == false"  [nbSpinner]="loadinghscgradecardbutton" nbSpinnerStatus="primary">
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload Grade Card"
                  url={{transHSCGradeCardUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="HSCGradeCardDocument"
                  (onSelect)="onSelect($event,'HSC_Grade_Card');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'HSC_Grade_Card')">
                </p-fileUpload>
              </div>
              <div *ngIf="hsc_grade_card_document == true && hsc_grade_card_lock == false">
                <button nbButton  status="info" (click)="downloadDoc('HSC_Grade_Card',this.educationalForm.controls.HSCGradeCardDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.HSCGradeCardDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.HSCGradeCardDocument.errors.required">Grade XIIth Grade Card required</div>
              </div>
            </div> -->
          </div>

          <div class=" form-group row" *ngIf="applying_for == 'Masters' || applying_for == 'Ph.D' || applying_for == 'Doctral Studies'">
            <div class="col-xl-2">
              <b>
                <h4>Graduation Details<span style="color:red;">*</span></h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="hidden" id="grad_type" name="grad_type" value="Graduation" placeholder="Name of the University/Board">
              <input type="text" class="form-control" formControlName="grad_UnivName" ngModel="{{degree_info?.gradname}}" [ngClass]="{'form-control-danger': educationalForm.controls.grad_UnivName.invalid && (educationalForm.controls.grad_UnivName.dirty || educationalForm.controls.grad_UnivName.touched)}" placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.grad_UnivName.errors" class="error_class">
                <div *ngIf="educationalForm.controls.grad_UnivName.errors.required">University name required</div>
                <div *ngIf="educationalForm.controls.grad_UnivName.errors.minlength">University name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.grad_UnivName.errors.maxlength">University name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="grad_inputSchool" ngModel="{{degree_info?.grad_school_name}}" [ngClass]="{'form-control-danger': educationalForm.controls.grad_inputSchool.invalid && (educationalForm.controls.grad_inputSchool.dirty || educationalForm.controls.grad_inputSchool.touched)}" placeholder="Name of College">
              <div *ngIf="form_submitted && educationalForm.controls.grad_inputSchool.errors" class="error_class">
                <div *ngIf="educationalForm.controls.grad_inputSchool.errors.required">School/College name required</div>
                <div *ngIf="educationalForm.controls.grad_inputSchool.errors.minlength">School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.grad_inputSchool.errors.maxlength">School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="grad_InputMarks" ngModel="{{degree_info?.grad_totalmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.grad_InputMarks.invalid && (educationalForm.controls.grad_InputMarks.dirty || educationalForm.controls.grad_InputMarks.touched)}" placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.grad_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.grad_InputMarks.errors.required">Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="grad_OutofMarks" (change)="checkmarks('Graduation')" ngModel="{{degree_info?.grad_outofmarks}}" [ngClass]="{'form-control-danger': educationalForm.controls.grad_OutofMarks.invalid && (educationalForm.controls.grad_OutofMarks.dirty || educationalForm.controls.grad_OutofMarks.touched)}" placeholder="Out of Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.grad_OutofMarks.errors" class="error_class">
                  <div *ngIf="educationalForm.controls.grad_OutofMarks.errors.required">Total marks required</div>
                  <div *ngIf="educationalForm.controls.grad_OutofMarks.errors.incorrect">Total marks should be greater than marks obtained</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="degree_lock == true || degree_document == false" [nbSpinner]="loadingdegreebutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload"
                  url={{transDegreeUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  [disabled]="master_upload"
                  formControlName="GraduationDocument"
                  (onSelect)="onSelect($event,'Graduation');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Graduation')">
                </p-fileUpload>
              </div>
              
              <div *ngIf="degree_document == true && degree_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('Graduation',this.educationalForm.controls.GraduationDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.GraduationDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.GraduationDocument.errors.required">Degree Marksheet required</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="degree_certificate_lock == true || degree_certificate_document == false" [nbSpinner]="loadingdegreecertificatebutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Bachelor degree"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  chooseLabel="Upload"
                  url={{transDegreeCertificateUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  [disabled]="master_upload"
                  formControlName="DegreeCertificateDocument"
                  (onSelect)="onSelect($event,'Degree_Certificate');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Degree_Certificate')">
                </p-fileUpload>
              </div>
              
              <div *ngIf="degree_certificate_document == true && degree_certificate_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Bachelor degree"
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('Degree_Certificate',this.educationalForm.controls.DegreeCertificateDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.DegreeCertificateDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.DegreeCertificateDocument.errors.required">Degree Certificate required</div>
              </div>
            </div>
          </div>

          <div class=" form-group row" *ngIf="applying_for == 'Ph.D' || applying_for == 'Doctral Studies'">
            <div class="col-xl-2">
              <b>
                <h4>Master's Details<span style="color:red;">*</span></h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="hidden" id="master_type" name="master_type" value="Master" placeholder="Name of the University/Board">
              <input type="text" class="form-control" formControlName="master_UnivName" ngModel={{master_info?.mastername}} [ngClass]="{'form-control-danger': educationalForm.controls.master_UnivName.invalid && (educationalForm.controls.master_UnivName.dirty || educationalForm.controls.master_UnivName.touched)}" placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.master_UnivName.errors" class="error_class">
                <div *ngIf="educationalForm.controls.master_UnivName.errors.required">University name required</div>
                <div *ngIf="educationalForm.controls.master_UnivName.errors.minlength">University name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.master_UnivName.errors.maxlength">University name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="master_InputSchool" ngModel={{master_info?.master_school_name}} [ngClass]="{'form-control-danger': educationalForm.controls.master_InputSchool.invalid && (educationalForm.controls.master_InputSchool.dirty || educationalForm.controls.master_InputSchool.touched)}" placeholder="Name of College">
              <div *ngIf="form_submitted && educationalForm.controls.master_InputSchool.errors" class="error_class">
                <div *ngIf="educationalForm.controls.master_InputSchool.errors.required">School/College name required</div>
                <div *ngIf="educationalForm.controls.master_InputSchool.errors.minlength">School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.master_InputSchool.errors.maxlength">School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="master_InputMarks" ngModel={{master_info?.master_totalmarks}} [ngClass]="{'form-control-danger': educationalForm.controls.master_InputMarks.invalid && (educationalForm.controls.master_InputMarks.dirty || educationalForm.controls.master_InputMarks.touched)}" placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.master_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.master_InputMarks.errors.required">Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="master_OutofMarks" (change)="checkmarks('Master')" ngModel={{master_info?.master_outofmarks}} [ngClass]="{'form-control-danger': educationalForm.controls.master_OutofMarks.invalid && (educationalForm.controls.master_OutofMarks.dirty || educationalForm.controls.master_OutofMarks.touched)}" placeholder="Out of Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.master_OutofMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.master_OutofMarks.errors.required">Total marks required</div>
                <div *ngIf="educationalForm.controls.master_OutofMarks.errors.incorrect">Total marks should be greater than marks obtained</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="master_lock == true || master_document == false " [nbSpinner]="loadingmasterbutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transMastersUrl}}
                  [disabled]="master_upload"
                  accept="image/*" 
                  maxFileSize="5000000"
                  auto="true"
                  chooseLabel="Upload"
                  formControlName="MasterDocument"
                  (onSelect)="onSelect($event,'Master');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Master')">
                </p-fileUpload>
              </div>
              <div *ngIf="master_document == true && master_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i> 
                <button nbButton  status="info" (click)="downloadDoc('Master',this.educationalForm.controls.MasterDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.MasterDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.MasterDocument.errors.required">Master's Marksheet required</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="master_certificate_lock == true || master_certificate_document == false " [nbSpinner]="loadingmastercertificatebutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Master degree"
                  nbPopoverMode="hover"></i> 
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transMasterCertificateUrl}}
                  [disabled]="master_upload"
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  chooseLabel="Upload"
                  formControlName="MasterCertificateDocument"
                  (onSelect)="onSelect($event,'Master_Certificate');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Master_Certificate')">
                </p-fileUpload>
              </div>
              <div *ngIf="master_certificate_document == true && master_certificate_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Master degree"
                  nbPopoverMode="hover"></i>
                <button nbButton  status="info" (click)="downloadDoc('Master_Certificate',this.educationalForm.controls.MasterCertificateDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.MasterCertificateDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.MasterCertificateDocument.errors.required">Master's Certificate required</div>
              </div>
            </div>
          </div>

          <div class=" form-group row" *ngIf="applying_for == 'Doctral Studies'">
            <div class="col-xl-2">
              <b>
                <h4>Ph.D's Details<span style="color:red;">*</span></h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="hidden" id="phd_type" name="phd_type" value="Ph.D" placeholder="Name of the University/Board">
              <input type="text" class="form-control" formControlName="phd_UnivName" ngModel={{phd_info?.phdname}} [ngClass]="{'form-control-danger': educationalForm.controls.phd_UnivName.invalid && (educationalForm.controls.phd_UnivName.dirty || educationalForm.controls.phd_UnivName.touched)}" placeholder="Name of the University/Board">
              <div *ngIf="form_submitted && educationalForm.controls.phd_UnivName.errors" class="error_class">
                <div *ngIf="educationalForm.controls.phd_UnivName.errors.required">University name required</div>
                <div *ngIf="educationalForm.controls.phd_UnivName.errors.minlength">University name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.phd_UnivName.errors.maxlength">University name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="phd_InputSchool" ngModel={{phd_info?.phd_school_name}} [ngClass]="{'form-control-danger': educationalForm.controls.phd_InputSchool.invalid && (educationalForm.controls.phd_InputSchool.dirty || educationalForm.controls.phd_InputSchool.touched)}" placeholder="Name of College">
              <div *ngIf="form_submitted && educationalForm.controls.phd_InputSchool.errors" class="error_class">
                <div *ngIf="educationalForm.controls.phd_InputSchool.errors.required">School/College name required</div>
                <div *ngIf="educationalForm.controls.phd_InputSchool.errors.minlength">School/College name should be more than 3 characters</div>
                <div *ngIf="educationalForm.controls.phd_InputSchool.errors.maxlength">School/College name should not be more than 200 characters</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="phd_InputMarks" ngModel={{phd_info?.phd_totalmarks}} [ngClass]="{'form-control-danger': educationalForm.controls.phd_InputMarks.invalid && (educationalForm.controls.phd_InputMarks.dirty || educationalForm.controls.phd_InputMarks.touched)}" placeholder="Marks/Grade Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.phd_InputMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.phd_InputMarks.errors.required">Marks obtained required</div>
              </div>
            </div>
            <div class="col-xl-1">
              <input type="text" class="form-control" formControlName="phd_OutofMarks" (change)="checkmarks('Ph.D')" ngModel={{phd_info?.phd_outofmarks}} [ngClass]="{'form-control-danger': educationalForm.controls.phd_OutofMarks.invalid && (educationalForm.controls.phd_OutofMarks.dirty || educationalForm.controls.phd_OutofMarks.touched)}" placeholder="Out of Obtained">
              <div *ngIf="form_submitted && educationalForm.controls.phd_OutofMarks.errors" class="error_class">
                <div *ngIf="educationalForm.controls.phd_OutofMarks.errors.required">Total marks required</div>
                <div *ngIf="educationalForm.controls.phd_OutofMarks.errors.incorrect">Total marks should be greater than marks obtained</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="phd_lock == true || phd_document == false " [nbSpinner]="loadingphdbutton" nbSpinnerStatus="primary">
                <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i>
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transPhDUrl}}
                  [disabled]="phd_upload"
                  chooseLabel="Upload"
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="phdDocument"
                  (onSelect)="onSelect($event,'Ph.D');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Ph.D')">
                </p-fileUpload>
              </div>
              <div *ngIf="phd_document == true && phd_lock == false">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Club Marksheets of all the years in a single pdf document."
                  nbPopoverMode="hover"></i>
                <button nbButton  status="info" (click)="downloadDoc('Ph.D',this.educationalForm.controls.phdDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.phdDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.phdDocument.errors.required">Ph.D's Marksheet required</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
                <div *ngIf="phd_certificate_lock == true || phd_certificate_document == false " [nbSpinner]="loadingphdcertificatebutton" nbSpinnerStatus="primary">
                  <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Ph.D Degree"
                    nbPopoverMode="hover"></i> 
                  <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                    mode="basic" 
                    name="file" 
                    url={{transPhdCertificateUrl}}
                    [disabled]="master_upload"
                    accept="image/*"
                    maxFileSize="5000000"
                    auto="true"
                    chooseLabel="Upload"
                    formControlName="PhdCertificateDocument"
                    (onSelect)="onSelect($event,'Phd_Certificate');"
                    (onUpload)="onUpload($event)"
                    (onError)="onErrorFileUpload($event)"
                    (onBeforeSend)="onBeforeSend($event,'Phd_Certificate')">
                  </p-fileUpload>
                </div>
                <div *ngIf="phd_certificate_document == true && phd_certificate_lock == false">
                    <i class="fa fa-info-circle" style="text-align:center;font-size: large;" nbPopover="Copy of Ph.D Degree"
                    nbPopoverMode="hover"></i>
                  <button nbButton  status="info" (click)="downloadDoc('Phd_Certificate',this.educationalForm.controls.PhdCertificateDocument.value)">Preview <i class="fas fa-download"></i></button>
                </div>
                <div *ngIf="form_submitted && educationalForm.controls.PhdCertificateDocument.errors" class="error_class">
                  <div *ngIf="educationalForm.controls.PhdCertificateDocument.errors.required">Phd Certificate required</div>
                </div>
              </div>
          </div>

          <div class=" form-group row">
            <div class="col-xl-2">
              <b>
                <h4>Passport Details<span style="color:red;">*</span></h4>
              </b>
            </div>
            <div class="col-xl-2">
              <input type="text" class="form-control" formControlName="passport_no_ctrl" ngModel={{pass_info?.passport_number}} [ngClass]="{'form-control-danger': educationalForm.controls.passport_no_ctrl.invalid && (educationalForm.controls.passport_no_ctrl.dirty || educationalForm.controls.passport_no_ctrl.touched)}" placeholder="Passport Number">
              <div *ngIf="form_submitted && educationalForm.controls.passport_no_ctrl.errors" class="error_class">
                <div *ngIf="educationalForm.controls.passport_no_ctrl.errors.required">Passport Number is required</div>
                <div *ngIf="educationalForm.controls.passport_no_ctrl.errors.maxlength">University name should not be more than 15 characters</div>
              </div>
            </div>
            <div class="col-xl-2" style="text-align: center">
              <div *ngIf="passport_lock == true || passport_document == false " [nbSpinner]="loadingpassportbutton" nbSpinnerStatus="primary">
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file" 
                  url={{transPassportUrl}}
                  accept="image/*"
                  maxFileSize="5000000"
                  auto="true"
                  chooseLabel="Upload"
                  formControlName="PassportDocument"
                  (onSelect)="onSelect($event,'Passport');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Passport')">
                </p-fileUpload>
              </div>
              <div *ngIf="passport_document == true && passport_lock == false">
                <button nbButton  status="info" (click)="downloadDoc('Passport',this.educationalForm.controls.PassportDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.PassportDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.PassportDocument.errors.required">Passport Document is required</div>
              </div>
            </div>
          </div>

          <div class=" form-group row">
            <div class="col-xl-2">
              <b>
                <h4>Course Duration Letter<div *ngIf="applying_for == 'Degree' || applying_for == 'Diploma'">/School Leaving Certificate</div><i class="fa fa-info-circle" nbPopover="Course Duration Letter is a letter from the School/College/University stating therein the period of your full time studies on the campus of the degree
                awarding university i.e. date of start of course and completion, thereof." nbPopoverMode="hover"></i><span style="color:red;">*</span></h4>
              </b>
            </div>
            <div class="col-xl-3" style="text-align: center">
              <div *ngIf="course_letter_lock ==true || course_letter_document == false"  [nbSpinner]="loadingcourseletterbutton" nbSpinnerStatus="primary">
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  url={{transCourseLetterUrl}}
                  accept="image/*"
                  chooseLabel="Upload"
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="CourseLetterDocument"
                  (onSelect)="onSelect($event,'Course_Letter');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Course_Letter')">
                </p-fileUpload>
              </div>
              <div *ngIf="course_letter_document == true && course_letter_lock == false">
                <button nbButton  status="info" (click)="downloadDoc('Course_Letter',this.educationalForm.controls.CourseLetterDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.CourseLetterDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.CourseLetterDocument.errors.required">Course Duration Letter required</div>
              </div>
            </div>
          </div>

          <div class=" form-group row">
              <div class="col-xl-2">
                <b>
                  <h4>Visa Details</h4>
                </b>
              </div>
              <div class="col-xl-3" style="text-align: center">
                <div *ngIf="visa_lock == true || visa_document == false " [nbSpinner]="loadingvisabutton" nbSpinnerStatus="primary">
                  <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                    mode="basic" 
                    name="file" 
                    url={{transVisaUrl}}
                    accept="image/*" 
                    maxFileSize="5000000"
                    auto="true"
                    chooseLabel="Upload"
                    formControlName="VisaDocument"
                    (onSelect)="onSelect($event,'Visa');"
                    (onUpload)="onUpload($event)"
                    (onError)="onErrorFileUpload($event)"
                    (onBeforeSend)="onBeforeSend($event,'Visa')">
                  </p-fileUpload>
                </div>
                <div *ngIf="visa_document == true && visa_lock == false">
                  <button nbButton  status="info" (click)="downloadDoc('Visa',this.educationalForm.controls.VisaDocument.value)">Preview <i class="fas fa-download"></i></button>
                </div>
                <!-- <div *ngIf="form_submitted && educationalForm.controls.VisaDocument.errors" class="error_class">
                  <div *ngIf="educationalForm.controls.VisaDocument.errors.required">Visa Document is required</div>
                </div> -->
              </div>
            </div>

          <div class=" form-group row" *ngIf="applying_for == 'Doctral Studies' || applying_for == 'Ph.D' || applying_for == 'Masters'">
            <div class="col-xl-2">
              <b>
                <h4>
                  Offer Letter
                  <i class="fa fa-info-circle" nbPopover="Copy of Offer Letter issued by the degree awarding university."
                  nbPopoverMode="hover"></i>
                </h4>
              </b>
            </div>
            <div class="col-xl-3" style="text-align: center">
              <div *ngIf="offer_letter_lock ==true || offer_letter_document == false"  [nbSpinner]="loadingofferletterbutton" nbSpinnerStatus="primary">
                <p-fileUpload ngDefaultControl [accept]="'.pdf,.jpg,.jpeg,.png,.PNG,.JPEG,.JPG,.PDF'"
                  mode="basic" 
                  name="file"
                  url={{transOfferLetterUrl}}
                  accept="image/*"
                  chooseLabel="Upload"
                  [disabled]="master_upload" 
                  maxFileSize="5000000"
                  auto="true"
                  formControlName="OfferLetterDocument"
                  (onSelect)="onSelect($event,'Offer_Letter');"
                  (onUpload)="onUpload($event)"
                  (onError)="onErrorFileUpload($event)"
                  (onBeforeSend)="onBeforeSend($event,'Offer_Letter')">
                </p-fileUpload>
              </div>
              <div *ngIf="offer_letter_document == true && offer_letter_lock == false">
                <button nbButton  status="info" (click)="downloadDoc('Offer_Letter',this.educationalForm.controls.OfferLetterDocument.value)">Preview <i class="fas fa-download"></i></button>
              </div>
              <div *ngIf="form_submitted && educationalForm.controls.OfferLetterDocument.errors" class="error_class">
                <div *ngIf="educationalForm.controls.OfferLetterDocument.errors.required">Offer Letter required</div>
              </div>
            </div>
          </div>

          <div class="form-group row">
            <div class="col-xl-3">
              <h4>Upload More Transcript</h4>
            </div>
            <div class="col-xl-4">
              <button nbButton (click)="open(1)" shape="rectangle" status="info">+ Add more</button>
            </div>
          </div>

          <div class="form-group row">
            <div *ngFor="let moreDoc of moreDocs">
              <nb-card status="success" class="col-md-12">
                <nb-card-header>{{moreDoc?.name}}</nb-card-header>
                <nb-card-body>
                  <div class="col-md-12 col-sm-12 col-xs-12" *ngIf="moreDoc?.lock_transcript== false">
                    <button type='button' nbButton shape="round" size="small" (click)="downloadDoc('', moreDoc?.image)"
                      status="info">Download</button>
                  </div>
                  <div class="col-md-12 col-sm-12 col-xs-12" *ngIf="moreDoc?.lock_transcript == true">
                    <button nbButton (click)="open(1)" shape="rectangle" hero status="primary">ReUpload
                      Transcript</button>
                  </div>
                </nb-card-body>
              </nb-card>
            </div>
          </div>

          <div class=" form-group row">
            <div class="col-xl-4">
            </div>
            <div class="col-xl-4" style="text-align: center">
              <button nbButton nbStepperNext (click)="onSubmit()">SUBMIT</button>
            </div>
            <div class="col-xl-4">
            </div>
          </div>

          <div class=" form-group row">
            <div class="col-xl-4">
            </div>
            <div class="col-xl-4" style="text-align: center">
              <button nbButton type='button' size="medium" [nbSpinner]="loading" nbSpinnerStatus="danger" nbSpinnerSize="xlarge" (click)="previewLetter()" hero status="info">Preview Letter</button>
            </div>
            <div class="col-xl-4">
            </div>
          </div>

          <div class=" form-group row" *ngIf="transcript_completed==true && show_payment_button == true">
            <div class="col-xl-4">
            </div>
            <div class="col-xl-4" style="text-align: center">
              <button nbButton type='button' size="medium" (click)="proceedForPayment()" hero status="info">Proceed For Payment</button>
            </div>
            <div class="col-xl-4">
            </div>
          </div>
          <div class=" form-group row" *ngIf="transcript_completed==true && show_payment_button == false">
            <div class="col-xl-4">
            </div>
            <div class="col-xl-4" style="text-align: center">
              <button nbButton type='button' size="medium" (click)="downloadReceipt(payment_data?.merchant_param5,payment_data?.amount,payment_data?.order_status,application_id,payment_data?.created_at,payment_data?.user_id)" hero status="info">Download Payment Receipt</button>
            </div>
            <div class="col-xl-4">
            </div>
          </div>

        </form>
      </nb-step>
      <!-- <nb-step label="Institution/University Details">
        <ng2-smart-table [settings]="settings" [source]="source" (deleteConfirm)="onDeleteConfirm($event)" (editConfirm)="onSaveConfirm($event)" (createConfirm)="onCreateConfirm($event)">
        </ng2-smart-table>
        <div class="row">
          <div class="col-md-5">

          </div>
          <div class="col-md-4">
              <button nbButton  status="info" (click)="addToCart()">View Cart</button>
          </div>
          <div class="col-md-3">

          </div>
        </div>
      </nb-step>
      <nb-step label="Cart Deatils">
      </nb-step> -->
    </nb-stepper>
  </nb-card-body>
</nb-card>

<p-toast [style]="{marginTop: '80px'}" ></p-toast>
<p-confirmDialog header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>